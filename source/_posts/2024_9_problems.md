---
title: 2024 9月杂题记
cover: https://lucky-cloud09.github.io/img/b1.jpg
categories: 题解
date: 2024/9/6
---

## [[HNOI2010] 城市建设](https://www.luogu.com.cn/problem/P3206)

> 题目大意：给你一张图，边权会有 $q$ 次修改，并保留修改。求每次修改完后的 mst;

这样的大概率是线段树分治。

考虑怎么写，每一条边的边权都会有一个适用的时间，将这条边放入线段树内的对应时间。

我们考虑每次 solve 是怎么做。

我们考虑在当前的 $l,r$ 去做，在时间 $l \sim r$ 的边称为动态边，否则为静态，那么我们考虑将静态边的集合给缩小，并下传。

第一种是无用边，即有边权更小的代替他，舍弃即可。

第二种是必要边，即使用动态边后，依旧需要这条边才能使得图连通，直接加入答案即可。

第三种是其他边，即需传入下一层，将他变成连接两个连通块的边即可。

在每一层，$l \sim r$，若往 $l \sim mid$ 走，那么 $mid + 1 \sim r$ 的动态边转变为静态边。

另一种也差不多。最后到 $[k,k]$ 就是静态的 kruskal。

## []